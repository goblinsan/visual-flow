# Vizail for Roblox UI

> Design and export Roblox UI screens ‚Äî HUDs, inventory panels, menus, and more ‚Äî directly inside Vizail and drop them into Roblox Studio in seconds.

## Quick Start

1. Open the Vizail editor (`npm run dev`, then navigate to the editor route).
2. When no design is loaded you will see the **Choose Design Mode** screen. Click **üéÆ Roblox UI** to start with a prebuilt HUD template.
3. Edit your design in the canvas using the **Roblox Components** palette in the sidebar.
4. Click **Export to Roblox** in the toolbar to download a `.roblox.lua` file.
5. In Roblox Studio, create a new **LocalScript** inside `StarterPlayerScripts`, paste (or drag) the file contents, and press **Play**.

---

## Design Mode

Vizail supports two top-level design modes:

| Mode | Description |
|------|-------------|
| üñ•Ô∏è **General UI** | Free-form layout for web, mobile, or prototypes. Uses Tailwind-based rendering. |
| üéÆ **Roblox UI** | Optimized for Roblox in-game GUIs. Inspector shows UDim2 unit hints; spacing snaps to integer units (1 unit = 4 px). |

You can switch modes at any time with the **Switch Mode** button in the toolbar.

---

## Roblox Component Palette

When **Roblox UI** mode is active, a **Roblox Components** panel appears at the bottom of the sidebar. Click any component to insert it as a child of the root layout.

| Component | Roblox Instance | Notes |
|-----------|-----------------|-------|
| TextLabel | `TextLabel` | Body text |
| Heading | `TextLabel` | h2 variant, `GothamBold` |
| Frame (card) | `Frame` + `UICorner` | Rounded card background |
| VStack | `Frame` + `UIListLayout` (Vertical) | Vertical flex |
| HStack | `Frame` + `UIListLayout` (Horizontal) | Horizontal flex |
| Grid 3-col | `Frame` + `UIGridLayout` | 3-column grid |
| ImageLabel | `ImageLabel` | Set `src` to `rbxassetid://‚Ä¶` |
| Icon | `TextLabel` | Emoji icon |
| Badge | `Frame` + `TextLabel` + `UICorner` | Notification badge |
| ProgressBar | Track + Fill `Frame` | Value 0‚Äì100 |

---

## Inspector: Spacing & Alignment Controls

When in **Roblox UI** mode the inspector panel augments every spacing field with:

- **UDim hint** ‚Äî shows `= UDim.new(0, Xpx)` next to each Gap / Padding input.
- **Snap note** ‚Äî reminds you that values snap to integer units (1 unit = 4 px ‚Üí `UDim.new(0, 4)`).
- **Progress scale** ‚Äî the Progress node's Value (0‚Äì100) also shows its UDim2 X scale equivalent (`0.00`‚Äì`1.00`).

---

## Drag / Resize Constraints (#144)

In **Roblox UI** mode all spacing and padding values are constrained to **integer units**.  
Each unit equals **4 pixels** in the exported Lua code:

```
gap = 2  ‚Üí  UIListLayout.Padding = UDim.new(0, 8)
padding = 4  ‚Üí  UIPadding.PaddingTop/Bottom/Left/Right = UDim.new(0, 16)
```

Maximum spacing is capped at **32 units** (128 px) to keep layouts within typical Roblox screen bounds.

---

## Export Formats

### Lua LocalScript (`exportRobloxLua`)

The default export. Drop the generated script into **StarterPlayerScripts**.  
It creates the full `ScreenGui ‚Üí RootFrame ‚Üí [nodes]` hierarchy at runtime using `Instance.new()`.

```lua
-- Roblox GUI generated by Vizail
-- Place this LocalScript inside StarterPlayerScripts
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "VizailUI"
ScreenGui.ResetOnSpawn = false
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.Parent = PlayerGui
-- ... generated nodes ...
```

### rbxmx XML (`exportRobloxRbxmx`)

An `.rbxmx` file that can be imported directly into the Roblox Studio Explorer. Click **File ‚Üí Import‚Ä¶** in Roblox Studio and select the file.

---

## DSL ‚Üí Roblox Instance Mapping

| DSL type | Roblox class(es) |
|----------|-----------------|
| `stack` | `Frame` + `UIListLayout` (+ optional `UIPadding`) |
| `grid` | `Frame` + `UIGridLayout` |
| `box` (card) | `Frame` + `UICorner` + optional `UIPadding` / `UIListLayout` |
| `box` (plain) | `Frame` (transparent) |
| `text` | `TextLabel` (`GothamBold` for h1‚Äìh3) |
| `image` | `ImageLabel` (`ScaleType.Fit`) |
| `icon` | `TextLabel` (emoji text) |
| `badge` | `Frame` + `TextLabel` + `UICorner` |
| `progress` | Track `Frame` + Fill `Frame` + `UICorner` (+ optional label `TextLabel`) |

---

## Starter Templates

| Template | Description |
|----------|-------------|
| **Roblox HUD** | Player stats bar (HP/XP progress), 6√ó2 inventory grid with badges, currency/power row |

Load it from the sidebar: click **üéÆ New Roblox HUD**.

---

## Frequently Asked Questions

**Q: Can I use my own `rbxassetid://` image URLs?**  
A: Yes. Insert an `ImageLabel` from the palette, then set its `src` field in the inspector to `rbxassetid://YOUR_ASSET_ID`.

**Q: Does the export include scripting logic (buttons, events)?**  
A: Not yet. The export covers visual layout only. Wiring up `MouseButton1Click` etc. should be done in a separate script.

**Q: How do I import a Lua export back into Vizail?**  
A: Use **Import JSON** with the Vizail `.json` format. Round-trip from `.lua` is not supported.

**Q: What screen size does the layout target?**  
A: The generated `ScreenGui` stretches to fill `UDim2.new(1,0,1,0)` ‚Äî the full player screen ‚Äî so it adapts to all resolutions automatically.
